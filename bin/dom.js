Object.defineProperty(exports, "__esModule", { value: true });
var constants_1 = require("./constants");
function updateStyles(moduleID, css) {
    var $style = document.getElementById(constants_1.InlineID);
    if ($style) {
        var oldText = $style.innerHTML;
        var startTag = constants_1.generateStartTag(moduleID);
        var endTag = constants_1.generateEndTag(moduleID);
        var newText = startTag + css + endTag;
        // find old content in tag
        var startPos = oldText.indexOf(startTag);
        var endPos = oldText.indexOf(endTag, startPos);
        if (startPos !== -1 && endPos !== -1) {
            // extract non-stale text
            var leadingText = oldText.substring(0, startPos);
            var trailingText = oldText.substring(endPos + endTag.length);
            $style.innerHTML = leadingText + newText + trailingText;
        }
        else {
            // just append
            $style.innerHTML = oldText + newText;
        }
    }
    else {
        console.error("Could not find style tag with the id '#" + constants_1.InlineID + "'");
    }
}
exports.default = updateStyles;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2RvbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEseUNBQXlFO0FBRXpFLHNCQUFxQyxRQUF5QixFQUFFLEdBQVc7SUFDdkUsSUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxvQkFBUSxDQUFDLENBQUM7SUFDakQsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNULElBQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFDakMsSUFBTSxRQUFRLEdBQUcsNEJBQWdCLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDNUMsSUFBTSxNQUFNLEdBQUcsMEJBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4QyxJQUFNLE9BQU8sR0FBRyxRQUFRLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQztRQUN4QywwQkFBMEI7UUFDMUIsSUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzQyxJQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztRQUNqRCxFQUFFLENBQUMsQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDLElBQUksTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuQyx5QkFBeUI7WUFDekIsSUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDbkQsSUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQy9ELE1BQU0sQ0FBQyxTQUFTLEdBQUcsV0FBVyxHQUFHLE9BQU8sR0FBRyxZQUFZLENBQUM7UUFDNUQsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osY0FBYztZQUNkLE1BQU0sQ0FBQyxTQUFTLEdBQUcsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN6QyxDQUFDO0lBRUwsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ0osT0FBTyxDQUFDLEtBQUssQ0FBQyw0Q0FBMEMsb0JBQVEsTUFBRyxDQUFDLENBQUM7SUFDekUsQ0FBQztBQUNMLENBQUM7QUF2QkQsK0JBdUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2VuZXJhdGVTdGFydFRhZywgZ2VuZXJhdGVFbmRUYWcsIElubGluZUlEIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVTdHlsZXMobW9kdWxlSUQ6IG51bWJlciB8IHN0cmluZywgY3NzOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCAkc3R5bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJbmxpbmVJRCk7XG4gICAgaWYgKCRzdHlsZSkge1xuICAgICAgICBjb25zdCBvbGRUZXh0ID0gJHN0eWxlLmlubmVySFRNTDtcbiAgICAgICAgY29uc3Qgc3RhcnRUYWcgPSBnZW5lcmF0ZVN0YXJ0VGFnKG1vZHVsZUlEKTtcbiAgICAgICAgY29uc3QgZW5kVGFnID0gZ2VuZXJhdGVFbmRUYWcobW9kdWxlSUQpO1xuICAgICAgICBjb25zdCBuZXdUZXh0ID0gc3RhcnRUYWcgKyBjc3MgKyBlbmRUYWc7XG4gICAgICAgIC8vIGZpbmQgb2xkIGNvbnRlbnQgaW4gdGFnXG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zID0gb2xkVGV4dC5pbmRleE9mKHN0YXJ0VGFnKTtcbiAgICAgICAgY29uc3QgZW5kUG9zID0gb2xkVGV4dC5pbmRleE9mKGVuZFRhZywgc3RhcnRQb3MpO1xuICAgICAgICBpZiAoc3RhcnRQb3MgIT09IC0xICYmIGVuZFBvcyAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIGV4dHJhY3Qgbm9uLXN0YWxlIHRleHRcbiAgICAgICAgICAgIGNvbnN0IGxlYWRpbmdUZXh0ID0gb2xkVGV4dC5zdWJzdHJpbmcoMCwgc3RhcnRQb3MpO1xuICAgICAgICAgICAgY29uc3QgdHJhaWxpbmdUZXh0ID0gb2xkVGV4dC5zdWJzdHJpbmcoZW5kUG9zICsgZW5kVGFnLmxlbmd0aCk7XG4gICAgICAgICAgICAkc3R5bGUuaW5uZXJIVE1MID0gbGVhZGluZ1RleHQgKyBuZXdUZXh0ICsgdHJhaWxpbmdUZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8ganVzdCBhcHBlbmRcbiAgICAgICAgICAgICRzdHlsZS5pbm5lckhUTUwgPSBvbGRUZXh0ICsgbmV3VGV4dDtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IGZpbmQgc3R5bGUgdGFnIHdpdGggdGhlIGlkICcjJHtJbmxpbmVJRH0nYCk7XG4gICAgfVxufVxuIl19